# Generated by opencode based on ~/.config/wezterm/wezterm.lua

# --- Appearance ---
# Using NL (No Ligatures) variant to match Ghostty's configuration
# font_family      JetBrainsMonoNL Nerd Font
# bold_font        no
# italic_font      auto
# bold_italic_font auto
font_size        14.05

# Line height (match VS Code default ~1.5x)
modify_font cell_height 115%

# Font features
# (Removed explicit disable flags since we are using the NL font variant)

# Text Composition Strategy (make font look thinner/sharper on macOS)
text_composition_strategy 1.0 0
macos_thicken_font 0
box_drawing_scale 0.001, 0.5, 1, 1.5

# Colors (Scaryforest)
# background_opacity 0.90
# background_blur 50
background #121f1d
foreground #dde5e0
selection_background #4d4d4d
selection_foreground #ffffff
url_color #88bdaa
cursor #3ec195
cursor_text_color #1b1f28

# Black
color0 #333333
color8 #4a4a4a

# Red
color1 #ab7d7d
color9 #9d6d6d

# Green
color2 #83aa7c
color10 #78b573

# Yellow
color3 #c0b283
color11 #d0c191

# Blue
color4 #77beb4
color12 #6ba89f

# Magenta
color5 #c993b5
color13 #8c9f87

# Cyan
color6 #7ebdae
color14 #88bdaa

# White
color7 #dde5e0
color15 #ecf4ef

# --- Tab Bar ---
tab_bar_edge top
tab_bar_style separator
tab_separator "â€¢ "
tab_bar_min_tabs 2
tab_title_template "{index}: {title} "

tab_bar_background      none
active_tab_foreground   #dde5e0
active_tab_background   #121f1d
active_tab_font_style   bold
inactive_tab_foreground #3a4d47
inactive_tab_background #121f1d

# --- Scrollback & Search ---
scrollback_lines 20000
scrollback_pager_history_size 10

# Use nvim as pager for vim-style search (/ to search, n/N to navigate)
scrollback_pager nvim -u NONE -c "set nonumber nolist showtabline=0 foldcolumn=0 laststatus=0 noshowmode noruler noshowcmd shortmess+=F signcolumn=no norelativenumber scrolloff=0" -c "nnoremap q :qa!<CR>" -c "nnoremap <Esc> :qa!<CR>" -c "set hlsearch incsearch ignorecase smartcase" -c "hi Normal guibg=NONE ctermbg=NONE" -c "hi EndOfBuffer guibg=NONE ctermbg=NONE" -c "silent write! /tmp/kitty_scrollback" -c "term cat /tmp/kitty_scrollback" -c "normal G"

# Search keybindings
map cmd+f show_scrollback
map ctrl+shift+f launch --type=overlay --stdin-source=@screen_scrollback /opt/homebrew/bin/fzf --no-sort --no-mouse --exact -i --tac
map ctrl+shift+g show_last_command_output

# Jump to previous/next prompt
map ctrl+shift+z scroll_to_prompt -1
map ctrl+shift+x scroll_to_prompt 1

# --- Cursor ---
cursor_shape block
cursor_blink_interval 0
shell_integration no-cursor
cursor #3ec195
cursor_text_color #1b1f28
# Neovide-like cursor trail
cursor_trail 3
cursor_trail_decay 0.1 0.4
cursor_trail_start_threshold 2
# Hide mouse after 3 seconds of inactivity (closest to hide_when_typing)
mouse_hide_wait 3.0

# --- Window ---
# Enable splits layout for pane management
enabled_layouts splits,stack

# Padding: Top 10, Right 10, Bottom 3, Left 10 (Matching Ghostty)
window_padding_width 2 7 3 7
# Split highlight color
active_border_color #3ec195
inactive_border_color #1c2926
inactive_text_alpha 0.5
window_border_width 0.2pt
draw_minimal_borders yes
# Hide titlebar but keep resize handles (similar to WezTerm "RESIZE")
hide_window_decorations titlebar-and-corners
confirm_os_window_close 1
map cmd+w close_window_with_confirmation

# --- Shell ---
shell /bin/zsh -l

# --- Remote Control ---
# Required for opening files in nvim in a new pane
allow_remote_control yes
listen_on unix:/tmp/kitty

# Open file links in nvim in a new pane instead of macOS editor
open_url_with ~/.config/kitty/open-in-nvim

# --- MacOS ---
macos_colorspace displayp3
macos_option_as_alt yes

# --- Keybindings ---
kitty_mod ctrl+shift
clear_all_shortcuts no

# Leader Key Emulation (Ctrl+Space)
# Note: Kitty uses combined keys. We map Ctrl+Space > [key]

# Copy Mode (Scrollback)
map ctrl+space>[ show_scrollback

# Splits
# Horizontal (Top/Bottom)
map ctrl+space>\ launch --location=hsplit
map cmd+shift+d launch --location=hsplit
# Vertical (Side-by-Side)
map ctrl+space>' launch --location=vsplit
map cmd+d launch --location=vsplit

# Close Pane
map ctrl+space>x close_window
map ctrl+shift+w close_window

# Zoom (Toggle Stack Layout)
map cmd+shift+enter toggle_layout stack

# Navigation
map ctrl+space>h neighboring_window left
map ctrl+space>j neighboring_window down
map ctrl+space>k neighboring_window up
map ctrl+space>l neighboring_window right
map cmd+o    next_window

# Pane Select
map ctrl+space>s focus_visible_window

# Swap Split Positions
map ctrl+{ move_window_backward
map ctrl+} move_window_forward

# MacOS Word Navigation
map alt+left  send_text all \x1bb
map alt+right send_text all \x1bf
map alt+backspace send_text all \x17
map cmd+backspace send_text all \x17

# Shift+Enter
map shift+enter send_text all \x1b\r

# Jump to Tab
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab 9

# Startup Session
startup_session ~/.config/kitty/startup.session
map cmd+n launch --type=background kitty --session ~/.config/kitty/startup.session

# Nerd Fonts v3.1.0 Symbol Map
symbol_map U+e000-U+e00a,U+ea60-U+ebeb,U+e0a0-U+e0c8,U+e0ca,U+e0cc-U+e0d4,U+e200-U+e2a9,U+e300-U+e3e3,U+e5fa-U+e6b1,U+e700-U+e7c5,U+f000-U+f2e0,U+f300-U+f372,U+f400-U+f532,U+f0001-U+f1af0 JetBrainsMono Nerd Font



# BEGIN_KITTY_FONTS
font_family      family="FiraCode Nerd Font Mono"
bold_font        auto
italic_font      auto
bold_italic_font auto
# END_KITTY_FONTS
